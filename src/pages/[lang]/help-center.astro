---
import { getI18nPaths, useTranslations } from '~/i18n/utils';
import { getPermalink } from '~/utils/permalinks';

// 1. Daten und Navigation importieren
import Layout from '~/layouts/PageLayout.astro';
import HeroText from '~/components/widgets/HeroText.astro';
import Prices from '~/components/widgets/Pricing.astro';
import FAQs from '~/components/widgets/FAQs.astro';
import Steps from '~/components/widgets/Steps.astro';
import Features3 from '~/components/widgets/Features3.astro';
import CallToAction from '~/components/widgets/CallToAction.astro';

// 2. Pfade generieren (SSOT für [lang])
export async function getStaticPaths() {
  return getI18nPaths();
}

// 3. Sprache & Content laden
const { lang } = Astro.params;
const t = useTranslations(lang);

// 4. Metadaten
const metadata = {
  title: `${t('home.hero.titleStart')} ${t('home.hero.titleAccent')} — AmendLogic`,
  ignoreTitleTemplate: true,
};
---

<Layout metadata={metadata}>
  <!-- HeroText Widget ******************* -->

  <HeroText
    tagline={t('faq.faq.tagline')}
    title={t('faq.faq.title')}
    subtitle={t('faq.faq.subtitle')}
  />



  <!-- FAQs Widget ******************* -->

  <FAQs
    title={t('faq.started.title')}
    subtitle={t('faq.started.subtitle')}
    columns={2}
    classes={{ container: 'max-w-6xl' }}
    items={t('faq.started.items')}
  />

  <FAQs
    title={t('faq.performance.title')}
    subtitle={t('faq.performance.subtitle')}
    columns={2}
    classes={{ container: 'max-w-6xl' }}
    items={t('faq.performance.items')}
  />

  <FAQs
    title={t('faq.security.title')}
    subtitle={t('faq.security.subtitle')}
    columns={2}
    classes={{ container: 'max-w-6xl' }}
    items={t('faq.security.items')}
  />

  <FAQs
    title={t('faq.billing.title')}
    subtitle={t('faq.billing.subtitle')}
    columns={2}
    classes={{ container: 'max-w-6xl' }}
    items={t('faq.billing.items')}
  />

  <FAQs
    title={t('faq.legal.title')}
    subtitle={t('faq.legal.subtitle')}
    columns={2}
    classes={{ container: 'max-w-6xl' }}
    items={t('faq.legal.items')}
  />

  <FAQs
    title={t('faq.support.title')}
    subtitle={t('faq.support.subtitle')}
    columns={2}
    classes={{ container: 'max-w-6xl' }}
    items={t('faq.support.items')}
  />


  <!-- CallToAction Widget *********** -->

 <CallToAction
    title={t('faq.cta.title')}
    actions={[
      {
        variant: 'primary',
        text: t('faq.cta.btnText'),
        href: getPermalink('/contact', lang),
        target: '_self',
        icon: 'tabler:chevron-right',
      },
    ]}
  >

    <Fragment slot="bg">
      <div class="absolute inset-0 bg-blue-50 dark:bg-transparent"></div>
    </Fragment>
  </CallToAction>

</Layout>
