---
import { getI18nPaths, DEFAULT_LANG, useTranslations } from '~/i18n/utils';

// 1. Daten und Navigation importieren
import Features2 from '~/components/widgets/Features2.astro';
import Features3 from '~/components/widgets/Features3.astro';
import Hero from '~/components/widgets/Hero.astro';
import Stats from '~/components/widgets/Stats.astro';
import Steps2 from '~/components/widgets/Steps2.astro';
import Content from '~/components/widgets/Content.astro';
import CallToAction from '~/components/widgets/CallToAction.astro';
import Layout from '~/layouts/PageLayout.astro';

// 2. Pfade generieren (SSOT für [lang])
export async function getStaticPaths() {
  return getI18nPaths();
}

// 3. Sprache & Content laden
const { lang } = Astro.params;
const t = useTranslations(lang);

// 4. Metadaten
const metadata = {
  title: `${t('home.hero.titleStart')} ${t('home.hero.titleAccent')} — AmendLogic`,
  ignoreTitleTemplate: true,
};
---

<Layout metadata={metadata}>
  <!-- Hero Widget ******************* -->

  <Hero
    tagline={t('about.hero.tagline')}
    image={{
      src: 'https://images.unsplash.com/photo-1559136555-9303baea8ebd?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80',
      alt: 'Caos Image',
    }}
  >
    <Fragment slot="title">
      {t('about.hero.title')}
    </Fragment>

    <Fragment slot="subtitle">
      {t('about.hero.subtitle')}
    </Fragment>
  </Hero>


  <!-- Features3 Widget ************** -->

  <Features3
    tagline={t('about.story.tagline')}
    title={t('about.story.title')}
    subtitle={t('about.story.subtitle')}
    columns={3}
    isBeforeContent={true}
    items={t('about.story.items')}
  />


  <!-- Features3 Widget ************** -->

  <Features3
    columns={3}
    isAfterContent={true}
    image={{
      src: 'https://images.unsplash.com/photo-1504384308090-c894fdcc538d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1740&q=80',
      alt: 'Colorful Image',
    }}
  />

  <!-- Stats Widget ****************** -->

  <Stats
    tagline={t('about.philosophy.tagline')}
    title={t('about.philosophy.title')}
    subtitle={t('about.philosophy.subtitle')}
    stats={[
      { title: 'Offices', amount: '4' },
      { title: 'Employees', amount: '248' },
      { title: 'Templates', amount: '12' },
      { title: 'Awards', amount: '24' },
    ]}
  />


  <Content
    tagline={t('about.philosophy.tagline')}
    subtitle={t('about.philosophy.subtitle')}
  >
    <Fragment slot="title">
      {t('about.philosophy.title')}
    </Fragment>
  </Content>

  <!-- Steps2 Widget ****************** -->

  <Steps2
    tagline={t('about.methodology.tagline')}
    title={t('about.methodology.title')}
    subtitle={t('about.methodology.subtitle')}
    items={t('about.methodology.items')}
/>


  <!-- Steps2 Widget ****************** -->

  <Steps2
    isReversed={true}
    tagline={t('about.risk.tagline')}
    title={t('about.risk.title')}
    subtitle={t('about.risk.subtitle')}
    items={t('about.risk.items')}
  />


  <!-- Features2 Widget ************** -->

  <Features2
    tagline={t('about.framework.tagline')}
    title={t('about.framework.title')}
    subtitle={t('about.framework.subtitle')}
    columns={4}
    items={t('about.framework.items')}
  />





  <Content
    id="benefits"
    tagline={t('about.transparency.tagline')}
    title={t('about.transparency.title')}
    items={t('home.features1.items')} 
    image={{
      src: 'https://images.unsplash.com/photo-1519389950473-47ba0277781c?ixlib=rb-4.0.3&auto=format&fit=crop&w=2070&q=80',
      alt: 'Colorful Image',
    }}
  >
    <Fragment slot="content">
      <h3 class="text-2xl font-bold tracking-tight dark:text-white sm:text-3xl mb-2">
        {t('about.transparency.description.start')}
      </h3>
      {t('about.transparency.description.end')}
    </Fragment>
  </Content>







  <!-- Features2 Widget ************** -->

  <Features2
    title="Technical Support"
    tagline="Contact us"
    columns={2}
    items={[
      {
        title: 'Chat with us',
        description:
          'Integer luctus laoreet libero, auctor varius purus rutrum sit amet. Ut nec molestie nisi, quis eleifend mi.',
        icon: 'tabler:messages',
      },
      {
        title: 'Call us',
        description:
          'Mauris faucibus finibus orci, in posuere elit viverra non. In hac habitasse platea dictumst. Cras lobortis metus a hendrerit congue.',
        icon: 'tabler:headset',
      },
    ]}
  />


  <CallToAction
    actions={[
      {
        variant: 'primary',
        text: t('home.cta.btnText'),
        href: 'https://github.com/arthelokyo/astrowind',
        target: '_blank',
        icon: 'tabler:download',
      },
    ]}
  >
    <Fragment slot="title">
      {t('home.cta.title')}
    </Fragment>
    <Fragment slot="subtitle">
      {t('home.cta.subtitle')}
    </Fragment>
    <Fragment slot="bg">
      <div class="absolute inset-0 bg-blue-50 dark:bg-transparent"></div>
    </Fragment>
  </CallToAction>

</Layout>
