---
import { getI18nPaths, useTranslations } from '~/i18n/utils';

// 1. Daten und Navigation importieren
import Features2 from '~/components/widgets/Features2.astro';
import Features3 from '~/components/widgets/Features3.astro';
import Hero from '~/components/widgets/Hero.astro';
import Stats from '~/components/widgets/Stats.astro';
import Steps2 from '~/components/widgets/Steps2.astro';
import Content from '~/components/widgets/Content.astro';
import CallToAction from '~/components/widgets/CallToAction.astro';
import Layout from '~/layouts/PageLayout.astro';

// 2. Pfade generieren (SSOT für [lang])
export async function getStaticPaths() {
  return getI18nPaths();
}

// 2️⃣ Sprache & Übersetzungen
const { lang } = Astro.params;
const t = useTranslations(lang);

// 4. Metadaten
const metadata = {
  title: `${t('home.hero.titleStart')} ${t('home.hero.titleAccent')} — AmendLogic`,
  ignoreTitleTemplate: true,
};
---

<Layout metadata={metadata}>
  <!-- Hero Widget ******************* -->

  <Hero
    tagline={t('about.hero.tagline')}
    image={{
      src: 'https://images.unsplash.com/photo-1559136555-9303baea8ebd?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80',
      alt: 'Caos Image',
    }}
  >
    <Fragment slot="title">
      {t('about.hero.title')}
    </Fragment>

    <Fragment slot="subtitle">
      {t('about.hero.subtitle')}
    </Fragment>
  </Hero>


  <!-- Features3 Widget ************** -->

  <Features3
    tagline={t('about.story.tagline')}
    title={t('about.story.title')}
    subtitle={t('about.story.subtitle')}
    columns={3}
    isBeforeContent={true}
    items={t('about.story.items')}
  />


  <!-- Features3 Widget ************** -->

  <Features3
    columns={3}
    isAfterContent={true}
    image={{
      src: 'https://images.unsplash.com/photo-1504384308090-c894fdcc538d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1740&q=80',
      alt: 'Colorful Image',
    }}
  />

  <!-- Stats Widget ****************** -->

  <Stats
    tagline={t('about.context.tagline')}
    title={t('about.context.title')}
    subtitle={t('about.context.subtitle')}
    stats={[
      { title: 'Offices', amount: '4' },
      { title: 'Employees', amount: '248' },
      { title: 'Templates', amount: '12' },
      { title: 'Awards', amount: '24' },
    ]}
  />


  <!-- Features2 Widget ************** -->

  <Features2
    tagline={t('about.framework.tagline')}
    title={t('about.framework.title')}
    subtitle={t('about.framework.subtitle')}
    columns={4}
    items={t('about.framework.items')}
  />


  <!-- Steps2 Widget ****************** -->

  <Steps2
    tagline={t('about.methodology.tagline')}
    title={t('about.methodology.title')}
    subtitle={t('about.methodology.subtitle')}
    items={t('about.methodology.items')}
/>


  <!-- Steps2 Widget ****************** -->

  <Steps2
    isReversed={true}
    tagline={t('about.risk.tagline')}
    title={t('about.risk.title')}
    subtitle={t('about.risk.subtitle')}
    items={t('about.risk.items')}
  >
    <Fragment slot="bg">
      <div class="absolute inset-0 bg-blue-50 dark:bg-transparent"></div>
    </Fragment>
</Steps2>



  <!-- Content Widget **************** -->

  <Content
    id="about"
    tagline={t('about.transparency.tagline')}
    title={t('about.transparency.title')}
    columns={3}
    items={[
      {
        icon: 'tabler:brand-dribbble',
        callToAction: {
          target: '_blank',
          text: 'Dribbble',
          href: '#',
        },
      },
      {
        icon: 'tabler:brand-behance',
        callToAction: {
          target: '_blank',
          text: 'Behance',
          href: '#',
        },
      },
      {
        icon: 'tabler:brand-pinterest',
        callToAction: {
          target: '_blank',
          text: 'Pinterest',
          href: '#',
        },
      },
    ]}
    image={{
      src: 'https://images.unsplash.com/photo-1491349174775-aaafddd81942?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=774&q=80',
      alt: 'Colorful Image',
      loading: 'eager',
    }}
  >
    <Fragment slot="content">
      <h2 class="text-2xl font-bold tracking-tight dark:text-white sm:text-3xl mb-2">{t('about.transparency.title')}</h2>
      <p>{t('about.transparency.description')}</p>
    </Fragment>
  </Content>





  <CallToAction
    actions={[
      {
        variant: 'primary',
        text: t('about.cta.btnText'),
        href: 'https://github.com/arthelokyo/astrowind',
        target: '_blank',
        icon: 'tabler:chevron-right',
      },
    ]}
  >
    <Fragment slot="title">
      {t('about.cta.title')}
    </Fragment>
    <Fragment slot="subtitle">
      {t('about.cta.subtitle')}
    </Fragment>
    <Fragment slot="bg">
      <div class="absolute inset-0 bg-blue-50 dark:bg-transparent"></div>
    </Fragment>
  </CallToAction>

</Layout>
