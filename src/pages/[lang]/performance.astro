---
import { SITE } from 'astrowind:config';
import { getI18nPaths, useTranslations } from '~/i18n/utils';

// 1. Daten und Navigation importieren
import Hero from '~/components/widgets/Hero.astro';
import Note from '~/components/widgets/Note.astro';
import Features2 from '~/components/widgets/Features2.astro';
import Steps from '~/components/widgets/Steps.astro';
import Features from '~/components/widgets/Features.astro';
import EChart from '~/components/widgets/EChart.astro';


import Stats from '~/components/widgets/Stats.astro';
import Steps2 from '~/components/widgets/Steps2.astro';
import Content from '~/components/widgets/Content.astro';
import CallToAction from '~/components/widgets/CallToAction.astro';
import Layout from '~/layouts/PageLayout.astro';

import { YouTube } from 'astro-embed';

// 2. Pfade generieren (SSOT für [lang])
export async function getStaticPaths() {
  return getI18nPaths();
}

// 2️⃣ Sprache & Übersetzungen
const { lang } = Astro.params;
const t = useTranslations(lang);

// 4. Metadaten
const metadata = {
  title: `${t('home.hero.titleStart')} ${t('home.hero.titleAccent')} — AmendLogic`,
  ignoreTitleTemplate: true,
};
---

<Layout metadata={metadata}>
  <!-- Hero Widget ******************* -->

  <Hero
    tagline={t('performance.hero.tagline')} 
  >
    <Fragment slot="title">
      {t('performance.hero.title')} 
    </Fragment>

    <Fragment slot="subtitle">
      {t('performance.hero.subtitle')} 
    </Fragment>

    <Fragment slot="image">
      <YouTube id="gxBkghlglTg" title="Astro just Launched.... Could it be the ultimate web framework?" />
      <style is:inline>
        lite-youtube {
          margin: 0 auto;
          max-width: 100%;
        }
      </style>
    </Fragment>
  </Hero>


  <!-- Note Widget ************** -->

  <Note 
    title={t('performance.overview.title')} 
    description={t('performance.overview.desc')} 
  />


  <!-- Features2 Widget ************** -->

  <Features2
    tagline={t('performance.metrics.tagline')} 
    title={t('performance.metrics.title')}
    subtitle={t('performance.metrics.subtitle')} 
    columns={3}
    items={t('performance.metrics.items')}
  />


  <!-- Steps Widget *************** -->
  <Steps
    id="system"
    tagline={t('performance.strategy.tagline')}
    title={t('performance.strategy.title')}
    subtitle={t('performance.strategy.subtitle')}
    isReversed={true}
    items={t('performance.strategy.items')}
    image={{
      src: 'https://images.unsplash.com/photo-1616198814651-e71f960c3180?ixlib=rb-4.0.3&auto=format&fit=crop&w=987&q=80',
      alt: 'Steps image',
    }}
  />


  <!-- Features Widget *************** -->

  <Features
    id="features"
    tagline={t('performance.methodology.tagline')}
    title={t('performance.methodology.title')}
    subtitle={t('performance.methodology.subtitle')} 
    columns={2}
    items={t('performance.methodology.items')}
  />


  <!-- EChart Widget *************** -->

<EChart
  id="backtest"
  tagline={t('performance.chart.tagline')}
  title={t('performance.chart.title')}
  subtitle={t('performance.chart.subtitle')}
  height="400px"
  csvPath="./src/data/strategy.csv" 
>
  <Fragment slot="content">
    {t('home.features2.contentDesc')}
  </Fragment>
</EChart>


  <!-- EChart Widget *************** -->

<EChart
  id="backtest"
  height="400px"
  csvPath="./src/data/strategy.csv" 
>
  <Fragment slot="content">
    {t('home.features2.contentDesc')}
  </Fragment>
</EChart>






  <!-- Note Widget ************** -->

  <Note 
    title={t('performance.limitations.title')}
    description={t('performance.limitations.desc')} 
  />






</Layout>
