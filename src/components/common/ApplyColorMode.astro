---
import { UI } from 'astrowind:config';
---
<script is:inline>
  const theme =
    localStorage.getItem('theme') ||
    '{UI.theme || 'system'}'.replace(':only', '');

  const isDark =
    theme === 'dark' ||
    (theme === 'system' &&
      window.matchMedia('(prefers-color-scheme: dark)').matches);

  document.documentElement.classList.toggle('dark', isDark);
</script>