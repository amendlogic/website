<link rel="stylesheet" href="/libs/cookieconsent.css" />
<link rel="stylesheet" href="/libs/cookie-custom.css" /> <!-- custom.css jetzt in public/libs -->

<script type="module">
  async function loadCookieConsent() {
    if (window.__CookieConsentInitialized) return;

    const root = document.getElementById('cookie-consent-root');
    if (!root) return;

    if (!window.CookieConsent) {
      const script = document.createElement('script');
      script.src = '/libs/cookieconsent.umd.js';
      script.isInline = true;
      document.head.appendChild(script);

      script.onload = async () => {
        const { config } = await import('/libs/cookieconsent-config.js');
        window.CookieConsent?.run({ ...config, debug: false, container: root });
        window.__CookieConsentInitialized = true;
      };
    } else {
      const { config } = await import('/libs/cookieconsent-config.js');
      window.CookieConsent?.run({ ...config, debug: false, container: root });
      window.__CookieConsentInitialized = true;
    }
  }

  document.addEventListener('DOMContentLoaded', loadCookieConsent);
  document.addEventListener('astro:page-load', loadCookieConsent);
</script>